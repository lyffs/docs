### TCP 

#### 前言

  前几天在学习TCP/IP详解，有些想法记录下来。

#### 详情
	
##### 连接管理

###### TCP连接建立和终止

 建立
  1. 主动开启者（也称作客户端）发送一个SYN报文段（即TCP头部SYN位置位），同时证明它的初始序列号ISN（C），通常还会借此发送一个或者多个选项。
  2. 被动开启者 服务器发送自己的SYN报文段作为相应，包含它的初始序列号ISN（S），同时将ACK=ISN（C）+1返回。每发送一个SYN，序列号自动加1。SYN丢失会重传。
  3. 客户段返回ACK=ISN（S）+1

  三次握手不仅建立一个连接，同时还交换初始序列号 Initial Sequence Number（ISN)。

 终止
  1. 主动关闭者 发送一个FIN字段置位的报文段，并带上自己的序列号K
  2. 被动关闭者 发送一个ACK字段置位的ACK=K+1的报文段

  身份转变重复上述步骤，	其中连接的任何一方都能发起一个关闭操作。

