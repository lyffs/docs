# TCP #

-> 拥塞控制

	->	拥塞控制所要做的一个前提就是：网络能够承受现有网络负载。拥塞控制是一个全局的过程。

	->	方法：

		->	慢开始
		->	拥塞避免
		->	快重传
		->	快恢复

		->	慢开始和拥塞避免

			-> 发送方控制拥塞窗口的原则：只要网络没有拥塞，拥塞窗口就可以增大一点，以便把更多的分组发送出去。慢开始算法：由小到大逐渐增大拥塞窗口的值。通常在开始发送报文的时候，设置拥塞窗口CWND设置为一个最大报文段MSS的值。当每接受到一个对新报文的确认后，把CWND增加至多一个MSS值。用这样的方法逐步增大发送方的拥塞窗口。每经过一个传输轮次，拥塞窗口CWND就会加倍。一个传输轮次所经历的时间就是往返时间RTT。传输轮次强调的是：把拥塞窗口CWND所允许发送的报文全部发送，并受到已发送的最后一个字节的确认。
			-> 为了防止拥塞窗口CWND增长过大引起网络拥塞，还需要设置一个慢开始门限（ssthresh）。用法是：当CWND<ssthhresh，使用慢开始算法。当CWND>ssthresh，停止慢开始算法改用拥塞避免算法。当CWND=ssthhresh，两个算法都可以用。
			-> 拥塞避免算法时：每经过一个往返时间RTT就把发送的拥塞窗口CWND+1，而不是加倍。按线性增长。
			-> 无论是慢开始阶段还是拥塞避免阶段，只要发送方判断网络出现拥塞（其根据就是没有收到确认）。就把慢开始门限ssthresh设置为拥塞时CWND的一半，然后把CWD设置为1，执行慢开始算法。

		->	快重传和快恢复

			-> 如果发送方设置的计时器超时但还没有收到确认，那么就很有可能网络拥塞。快重传代码要求接收方每收到一个失序报文段就立即发出重复确认（为的是发送方及早知道有报文段没有到达对方而不需要自己发送数据才捎带确认。）快重传算法还规定，发送方只要一接受到3个重复确认就立即重传对方尚未收到的报文段。而不必等待该报文段重传计时器超时。
			-> 快重传算法配合快恢复算法。当发送法接收到三个重复确认，就执行"乘法减小"算法，把慢开始门限ssthresh减半。接下去不是执行慢开始算法（指数增长）。而是把CWND设置为慢开始门限ssthresh减半的数值，然后执行拥塞避免算法。（线性增加）	

-> 流量控制

	->	流量控制是指点对点通信量的控制。流量控制就是要发送方发送数据的速率，以便接收方来得于接受。

