# 虚拟网络设备bridge #

-> 参考：https://segmentfault.com/a/1190000009491002

-> bridge是一个虚拟网络设备，所以具有网络设备的特征，可以配置IP、MAC地址等；其次，bridge是一个虚拟交换机，和物理交换机有类似的功能。
-> 对于普通的网络设备来说，只有两端，从一段进来的数据会从另外一段出去，如物理网卡从外面网络中收到的数据会转发给内核协议栈，而从协议栈过来的数据会转发到外面的
-> 物理网络中。
-> bridge不同，bridge有多个端口，数据可以从任何端口进来，进来之后从哪个口出去和物理交换机的原理差不多，要看mac地址。


	+-------------------------------------------------------+			|            +------------------------------------------------------+
	|					    Host							|			|			 |					 Container1							|
	|			+---------------------------+		        |			|			 |			+---------------------------+		        |
	|	        |   Newwork Protocol Stack	|               |			|			 |	        |   Newwork Protocol Stack	|               |
	|           +---------------------------+               |			|	         |          +---------------------------+               |
	|														|			|            |														|
	+-------------------------------------------------------+			|            +-------------------------------------------------------+
			 ^                  ^                   					|									 ^	
			 |					|				    					|                                    | 
	.........................................................			|            ........................|................................
			 |					|										|									 | 				
			 v					v                  						|									 v	
		+----------+      +----------+		  +----------+				|								+----------+	
		|   eth0   |	  |    br0   | <----> |   veth   |				|                               |   veth   |
		+----------+	  +----------+	 	  +----------+           	|                               +----------+ 
			 ^										^					|									  ^
			 |										|					|									  |	
			 |										+-------------------|-------------------------------------+							
	.........................................................		 	|           .........................................................
			 |															|			
			 |															|
			 v  														|
	    Physical Network												|			